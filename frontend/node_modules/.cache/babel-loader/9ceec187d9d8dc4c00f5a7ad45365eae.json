{"ast":null,"code":"var _jsxFileName = \"/Users/ericanthonywu/Projects/TA-Purwadhika/frontend/src/views/Search.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { api_url, profile_url } from \"../global\";\nimport { connect } from \"react-redux\";\nimport { MDBBtn } from \"mdbreact\";\nimport Error404 from \"./template/404\";\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      param: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const param = this.props.location.search.split('=')[0] === \"?user\" ? this.props.location.search.split('=')[1] : null;\n    this.setState({\n      param: param\n    });\n\n    if (param) {\n      axios.post(\"\".concat(api_url, \"searchUser\"), {\n        param: param\n      }).then(res => {\n        this.setState({\n          data: res.data.data\n        });\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const param = this.props.location.search.split('=')[0] === \"?user\" ? this.props.location.search.split('=')[1] : null; // console.log(prevProps.location.pathname)\n\n    if (param) {\n      if (prevProps.location.search !== this.props.location.search) {\n        this.setState({\n          param: param\n        });\n        axios.post(\"\".concat(api_url, \"searchUser\"), {\n          param: param\n        }).then(res => {\n          this.setState({\n            data: res.data.data\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        paddingTop: 100\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-10\",\n      style: {\n        margin: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, this.state.data.length ? this.state.data.map(o => {\n      return React.createElement(\"div\", {\n        className: \"search-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"user-img\",\n        onClick: () => this.props.history.push('/profile/' + o._source.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: profile_url + o._source.profilepicture,\n        width: \"100%\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"user-desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, o._source.username === this.props.username ? React.createElement(MDBBtn, {\n        className: \"waves-effect\",\n        outline: true,\n        color: \"elegant\",\n        onClick: () => this.props.history.push('/updateProfile'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \" Edit Profile \") : o._source.follower.length && o._source.follower.some(e => e._id === this.props.userid) ? React.createElement(MDBBtn, {\n        className: \"waves-effect\",\n        outline: true,\n        color: \"primary\",\n        onClick: () => this.props.history.push('/profile/' + o._source.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \" Following \") : o._source.user && o._source.user.following.some(e => e._id === this.props.userid) ? React.createElement(MDBBtn, {\n        className: \"waves-effect\",\n        color: \"primary\",\n        onClick: () => this.props.history.push('/profile/' + o._source.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Follow Back\") : React.createElement(MDBBtn, {\n        className: \"waves-effect\",\n        color: \"primary\",\n        onClick: () => this.props.history.push('/profile/' + o._source.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \" Follow \"), React.createElement(\"p\", {\n        onClick: () => this.props.history.push('/profile/' + o._source.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, o._source.username), React.createElement(\"p\", {\n        onClick: () => this.props.history.push('/profile/' + o._source.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, o._source.nickname, \" \")));\n    }) : React.createElement(Error404, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapToStateProps = state => {\n  return {\n    token: state.user.token,\n    username: state.user.username\n  };\n};\n\nexport default connect(mapToStateProps)(Search);","map":{"version":3,"sources":["/Users/ericanthonywu/Projects/TA-Purwadhika/frontend/src/views/Search.jsx"],"names":["React","axios","api_url","profile_url","connect","MDBBtn","Error404","Search","Component","constructor","props","state","data","param","componentDidMount","location","search","split","setState","post","then","res","componentDidUpdate","prevProps","prevState","snapshot","render","paddingTop","margin","length","map","o","history","push","_source","username","profilepicture","follower","some","e","_id","userid","user","following","nickname","mapToStateProps","token"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport {api_url, profile_url} from \"../global\";\nimport {connect} from \"react-redux\";\nimport {MDBBtn} from \"mdbreact\";\nimport Error404 from \"./template/404\";\n\n\nclass Search extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            param: \"\"\n        }\n    }\n\n\n    componentDidMount() {\n        const param = this.props.location.search.split('=')[0] === \"?user\" ? this.props.location.search.split('=')[1] : null;\n        this.setState({\n            param: param\n        });\n        if (param) {\n            axios.post(`${api_url}searchUser`, {\n                param: param\n            }).then(res => {\n                this.setState({\n                    data: res.data.data\n                })\n            })\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const param = this.props.location.search.split('=')[0] === \"?user\" ? this.props.location.search.split('=')[1] : null;\n        // console.log(prevProps.location.pathname)\n        if(param) {\n            if (prevProps.location.search !== this.props.location.search) {\n                this.setState({\n                    param: param\n                });\n                axios.post(`${api_url}searchUser`, {\n                    param: param\n                }).then(res => {\n                    this.setState({\n                        data: res.data.data\n                    })\n                })\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div style={{paddingTop:100}}>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-10\" style={{margin:\"auto\"}}>\n                            {\n                                this.state.data.length ?\n                                this.state.data.map(o => {\n                                    return (\n                                        <div className=\"search-container\">\n                                            <div className=\"user-img\" onClick={() => this.props.history.push('/profile/'+o._source.username)}>\n                                                <img src={profile_url+o._source.profilepicture} width={\"100%\"} alt=\"\"/>\n                                            </div>\n                                            <div className=\"user-desc\">\n                                                {\n                                                    o._source.username === this.props.username\n                                                        ?\n                                                        <MDBBtn className={\"waves-effect\"} outline\n                                                                color={\"elegant\"} onClick={() => this.props.history.push('/updateProfile')}> Edit\n                                                            Profile </MDBBtn>\n                                                        :\n                                                        o._source.follower.length && o._source.follower.some(e => e._id === this.props.userid) ?\n                                                            <MDBBtn className={\"waves-effect\"} outline\n                                                                    color={\"primary\"} onClick={() => this.props.history.push('/profile/'+o._source.username)}> Following </MDBBtn> :\n                                                            (\n                                                                o._source.user && o._source.user.following.some(e => e._id === this.props.userid)\n                                                                    ?\n                                                                    <MDBBtn className={\"waves-effect\"}\n                                                                            color={\"primary\"} onClick={() => this.props.history.push('/profile/'+o._source.username)}>Follow Back</MDBBtn>\n                                                                    :\n                                                                    <MDBBtn className={\"waves-effect\"}\n                                                                            color={\"primary\"} onClick={() => this.props.history.push('/profile/'+o._source.username)}> Follow </MDBBtn>\n                                                            )\n                                                }\n                                                <p onClick={() => this.props.history.push('/profile/'+o._source.username)}>{o._source.username}</p>\n                                                <p onClick={() => this.props.history.push('/profile/'+o._source.username)}>{o._source.nickname} </p>\n                                            </div>\n                                        </div>\n                                    )\n                                })\n                                    :\n                                    <Error404/>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapToStateProps = state => {\n    return {\n        token: state.user.token,\n        username: state.user.username\n    }\n};\nexport default connect(mapToStateProps)(Search)\n"]},"metadata":{},"sourceType":"module"}