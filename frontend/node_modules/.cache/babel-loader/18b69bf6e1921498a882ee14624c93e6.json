{"ast":null,"code":"var _jsxFileName = \"/Users/ericanthonywu/Projects/TA-Purwadhika/frontend/src/views/Login.jsx\";\nimport React from \"react\";\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCardHeader, MDBCol, MDBContainer, MDBIcon, MDBInput, MDBModalFooter, MDBRow } from \"mdbreact\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from 'react-toastify';\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { login } from \"../redux/actions\";\nimport { api_url } from \"../global\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.changeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault();\n      axios.post(\"\".concat(api_url, \"login\"), {\n        email: this.state.email,\n        password: this.state.password\n      }).then(res => {\n        toast.success('Berhasil Login');\n        localStorage.setItem('token', res.data._token);\n        localStorage.setItem('username', res.data.username);\n        localStorage.setItem('profile_picture', res.data.profile_picture);\n        localStorage.setItem('_id', res.data._id);\n        localStorage.setItem('chatMinimized', false);\n        this.props.login({\n          token: res.data._token,\n          username: res.data.username,\n          profilepicture: res.data.profile_picture,\n          _id: res.data._id,\n          loggedin: true\n        });\n        setTimeout(() => {\n          this.props.history.push('/');\n        }, 1000);\n      }).catch(err => {\n        toast.error(err.response.data.message);\n      });\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      className: \"d-flex justify-content-center w-50 form-container\",\n      style: {\n        marginTop: 100,\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      className: \"form-header deep-blue-gradient rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"my-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: \"lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), \" Login:\")), React.createElement(\"form\", {\n      onSubmit: this.submitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Type your email\",\n      name: \"email\",\n      icon: \"envelope\",\n      group: true,\n      type: \"email\",\n      validate: true,\n      error: \"wrong\",\n      success: \"right\",\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(MDBInput, {\n      label: \"Type your password\",\n      name: \"password\",\n      icon: \"lock\",\n      group: true,\n      type: \"password\",\n      validate: true,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"text-center mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"light-blue\",\n      className: \"mb-3\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Login\"))), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"font-weight-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Not a member? \", React.createElement(Link, {\n      to: \"register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Sign Up\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Forgot Password?\")))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.user.token,\n    username: state.user.username,\n    loggedin: state.user.loggedin\n  };\n};\n\nexport default connect(mapStateToProps, {\n  login\n})(Login);","map":{"version":3,"sources":["/Users/ericanthonywu/Projects/TA-Purwadhika/frontend/src/views/Login.jsx"],"names":["React","MDBBtn","MDBCard","MDBCardBody","MDBCardHeader","MDBCol","MDBContainer","MDBIcon","MDBInput","MDBModalFooter","MDBRow","Link","toast","axios","connect","login","api_url","Login","Component","constructor","changeHandler","e","setState","target","name","value","submitHandler","preventDefault","post","email","state","password","then","res","success","localStorage","setItem","data","_token","username","profile_picture","_id","props","token","profilepicture","loggedin","setTimeout","history","push","catch","err","error","response","message","render","marginTop","marginLeft","marginRight","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    MDBBtn,\n    MDBCard,\n    MDBCardBody,\n    MDBCardHeader,\n    MDBCol,\n    MDBContainer,\n    MDBIcon,\n    MDBInput,\n    MDBModalFooter,\n    MDBRow\n} from \"mdbreact\";\nimport {Link} from \"react-router-dom\";\nimport {toast} from 'react-toastify';\nimport axios from \"axios\"\nimport {connect} from \"react-redux\";\nimport {login} from \"../redux/actions\";\nimport {api_url} from \"../global\";\n\nclass Login extends React.Component {\n    constructor() {\n        super();\n        this.state = {}\n    }\n\n    changeHandler = e => {\n        this.setState({[e.target.name]: e.target.value});\n    };\n    submitHandler = e => {\n        e.preventDefault();\n        axios.post(`${api_url}login`, {\n            email: this.state.email,\n            password: this.state.password\n        }).then(res => {\n            toast.success('Berhasil Login');\n            localStorage.setItem('token', res.data._token);\n            localStorage.setItem('username', res.data.username);\n            localStorage.setItem('profile_picture', res.data.profile_picture);\n            localStorage.setItem('_id', res.data._id);\n            localStorage.setItem('chatMinimized',false);\n            this.props.login({\n                token: res.data._token,\n                username: res.data.username,\n                profilepicture: res.data.profile_picture,\n                _id:res.data._id,\n                loggedin: true,\n            })\n            setTimeout(() => {\n                this.props.history.push('/')\n            }, 1000)\n        }).catch(err => {\n            toast.error(err.response.data.message)\n        })\n    };\n\n    render() {\n        return (\n            <MDBContainer>\n                    <MDBRow>\n                        <MDBCol md=\"12\">\n                            <MDBCard className=\"d-flex justify-content-center w-50 form-container\"\n                                     style={{marginTop: 100, marginLeft: 'auto', marginRight: 'auto'}}>\n                                <MDBCardBody>\n                                    <MDBCardHeader className=\"form-header deep-blue-gradient rounded\">\n                                        <h3 className=\"my-3\">\n                                            <MDBIcon icon=\"lock\"/> Login:\n                                        </h3>\n                                    </MDBCardHeader>\n                                    <form onSubmit={this.submitHandler}>\n                                        <div className=\"grey-text\">\n                                            <MDBInput\n                                                label=\"Type your email\"\n                                                name={\"email\"}\n                                                icon=\"envelope\"\n                                                group\n                                                type=\"email\"\n                                                validate\n                                                error=\"wrong\"\n                                                success=\"right\"\n                                                onChange={this.changeHandler}\n                                            />\n                                            <MDBInput\n                                                label=\"Type your password\"\n                                                name={\"password\"}\n                                                icon=\"lock\"\n                                                group\n                                                type=\"password\"\n                                                validate\n                                                onChange={this.changeHandler}\n                                            />\n                                        </div>\n\n                                        <div className=\"text-center mt-4\">\n                                            <MDBBtn\n                                                color=\"light-blue\"\n                                                className=\"mb-3\"\n                                                type=\"submit\"\n                                            >\n                                                Login\n                                            </MDBBtn>\n                                        </div>\n                                    </form>\n                                    <MDBModalFooter>\n                                        <div className=\"font-weight-light\">\n                                            <p>Not a member? <Link to=\"register\">Sign Up</Link></p>\n                                            <p><Link to=\"\">Forgot Password?</Link></p>\n                                        </div>\n                                    </MDBModalFooter>\n                                </MDBCardBody>\n                            </MDBCard>\n                        </MDBCol>\n                    </MDBRow>\n                </MDBContainer>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.user.token,\n        username: state.user.username,\n        loggedin: state.user.loggedin,\n    }\n}\n\nexport default connect(mapStateToProps, {login})(Login)\n"]},"metadata":{},"sourceType":"module"}