{"ast":null,"code":"var _jsxFileName = \"/Users/ericanthonywu/Projects/TA-Purwadhika/frontend/src/views/template/Post.jsx\";\nimport React from \"react\";\nimport { MDBBtn, MDBCarousel, MDBCarouselInner, MDBCarouselItem, MDBCol, MDBContainer, MDBDropdown, MDBDropdownItem, MDBDropdownMenu, MDBDropdownToggle, MDBIcon, MDBModal, MDBModalBody, MDBModalFooter, MDBModalHeader, MDBInput, MDBRow, MDBView } from \"mdbreact\";\nimport axios from 'axios';\nimport 'emoji-mart/css/emoji-mart.css';\nimport { Picker } from 'emoji-mart';\nimport Comment from './Comment';\nimport PostVideo from \"./postvideo\";\nimport ReactCursorPosition from 'react-cursor-position';\nimport { api_url, base_url, post_url, profile_url } from \"../../global\";\nimport { connect } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport moment from \"moment\";\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOutsideClick = e => {\n      // ignore clicks on the component itself\n      if (document.querySelector('section.emoji-mart') !== null) {\n        this.setState({\n          showsticker: !document.querySelector('section.emoji-mart').contains(e.target) || e.key === \"Escape\"\n        });\n        this.togglesticker();\n      }\n    };\n\n    this.togglelike = e => {\n      if (this.props.loggedin) {\n        const likelist = [...this.state.likeslist];\n\n        if (document.getElementById('postlike').classList.contains('fa')) {\n          document.getElementById('postlike').classList.remove('fa');\n          document.getElementById('postlike').classList.add('far');\n          this.setState({\n            postlikes: this.state.postlikes - 1,\n            likeslist: likelist.filter(o => {\n              return o === this.props.id;\n            })\n          });\n          axios.post(\"\".concat(api_url, \"tooglelike\"), {\n            token: this.props.token,\n            id: this.props._id,\n            action: \"remove\"\n          }).catch(err => {\n            console.log(err);\n            likelist.push({\n              username: this.props.username,\n              profilepicture: localStorage.getItem('profile_picture')\n            });\n            this.setState({\n              postlikes: this.state.postlikes + 1,\n              likeslist: likelist\n            });\n          });\n        } else {\n          document.getElementById('postlike').classList.remove('far');\n          document.getElementById('postlike').classList.add('fa');\n          likelist.push({\n            username: this.props.username,\n            profilepicture: localStorage.getItem('profile_picture')\n          });\n          this.setState({\n            postlikes: this.state.postlikes + 1,\n            likeslist: likelist\n          });\n          axios.post(\"\".concat(api_url, \"tooglelike\"), {\n            token: this.props.token,\n            id: this.props._id,\n            action: \"add\"\n          }).catch(err => {\n            console.log(err);\n            this.setState({\n              postlikes: this.state.postlikes - 1,\n              likeslist: likelist.filter(o => o === this.props.id)\n            });\n          });\n        }\n      } else {\n        toast.error('You need to logged In');\n      }\n    };\n\n    this.handlecomment = e => {\n      const arr = e.target.value.split(\" \");\n\n      if (e.keyCode === 13 && !e.shiftKey) {\n        const comments = e.target.value.replace(/\\n$/, \"\");\n        e.target.value = \"\";\n        axios.post(\"\".concat(api_url, \"comments\"), {\n          value: comments,\n          id: this.props._id,\n          token: this.props.token\n        }).then(res => {\n          this.setState({\n            tempComments: [...this.state.tempComments, {\n              _id: res.data.id,\n              comments: comments,\n              like: 0,\n              time: moment(),\n              user: {\n                username: this.props.username,\n                // profilepicture: this.props.profilepicture\n                profilepicture: localStorage.getItem('profile_picture')\n              }\n            }],\n            comments: [...this.state.comments, {\n              _id: res.data.id,\n              comments: comments,\n              like: 0,\n              time: moment(),\n              user: {\n                username: this.props.username,\n                profilepicture: localStorage.getItem('profile_picture')\n              }\n            }]\n          });\n        }).catch(err => {});\n      } else if (arr[arr.length - 1].charAt(0) == \"@\") {\n        this.setState({\n          searchingStatus: true,\n          searchValue: arr[arr.length - 1].replace(\"@\", \"\")\n        });\n      } else if (e.target.value.charAt(e.target.value.length - 1) == \" \") {\n        this.setState({\n          searchValue: null,\n          search: null,\n          searchingStatus: false,\n          searchLoading: false\n        });\n      }\n\n      if (e.keyCode == 8) {\n        if (arr[arr.length - 1].charAt(0) == \"@\") {\n          this.setState({\n            searchValue: arr[arr.length - 1].replace(\"@\", \"\").slice(0, -1),\n            searchingStatus: true\n          });\n        } else {\n          this.setState({\n            searchingStatus: false\n          });\n        }\n      }\n\n      if (this.state.searchingStatus) {\n        axios.post(\"\".concat(api_url, \"searchUser\"), {\n          param: this.state.searchValue.replace(\"@\", \"\")\n        }).then(res => {\n          this.setState({\n            search: res.data.data !== null ? res.data.data : []\n          });\n        });\n      }\n    };\n\n    this.addEmoji = e => {\n      let emoji = e.native;\n      this.refs.comment.value += emoji;\n    };\n\n    this.togglesticker = () => {\n      if (!this.state.showsticker) {\n        // attach/remove event handler\n        document.addEventListener('click', this.handleOutsideClick, false);\n        document.onkeydown = this.handleOutsideClick;\n      } else {\n        document.removeEventListener('click', this.handleOutsideClick, false);\n        document.onkeydown = this.handleOutsideClick;\n      }\n\n      this.setState({\n        showsticker: !this.state.showsticker\n      });\n    };\n\n    this.report = e => this.setState({\n      reportModal: true\n    });\n\n    this.toggleRepost = () => this.setState({\n      reportModal: !this.state.reportModal\n    });\n\n    this.onClick = nr => () => {\n      this.setState({\n        radio: nr\n      });\n    };\n\n    this.sendReport = e => {\n      if (this.state.radio || this.state.radio === 11 && !this.state.reportOther) {\n        let radioMeans = '';\n\n        switch (this.state.radio) {\n          case 1:\n            radioMeans = \"Its spam or inappropriate\";\n            break;\n\n          case 2:\n            radioMeans = \"Nudity or pornography\";\n            break;\n\n          case 3:\n            radioMeans = \"Hate speech or symbols\";\n            break;\n\n          case 4:\n            radioMeans = \"Violence or threat violence\";\n            break;\n\n          case 5:\n            radioMeans = \"Sale or promotion of firearms\";\n            break;\n\n          case 6:\n            radioMeans = \"Sale or promotion of drugs\";\n            break;\n\n          case 7:\n            radioMeans = \"Harassment or bullying\";\n            break;\n\n          case 8:\n            radioMeans = \"Intellectual property violation\";\n            break;\n\n          case 9:\n            radioMeans = \"Self injury\";\n            break;\n\n          case 10:\n            radioMeans = \"False Information\";\n            break;\n\n          case 11:\n            radioMeans = this.state.reportOther;\n            break;\n        }\n\n        axios.post(\"\".concat(api_url, \"reportPost\"), {\n          token: this.props.token || localStorage.getItem('token'),\n          report: radioMeans,\n          postId: this.props._id\n        }).then(r => toast.success(\"Post reported! \")).catch(err => toast.error(\"You already report this post\"));\n        this.setState({\n          reportModal: false\n        });\n      }\n    };\n\n    this.state = {\n      showsticker: false,\n      postlikes: props.postlikes,\n      commentlike: false,\n      likestatus: props.likestatus,\n      comments: props.comments,\n      tempComments: [],\n      showFullComments: false,\n      likeslist: props.likeslist,\n      searchValue: null,\n      search: null,\n      searchLoading: false,\n      reportModal: false,\n      radio: 0,\n      reportOther: \"\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: this.props.style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(MDBModal, {\n      isOpen: this.state.reportModal,\n      toggle: () => this.toggleRepost(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(MDBModalHeader, {\n      toggle: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Report Post\"), React.createElement(MDBModalBody, {\n      className: \"text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"What are your reason for reporting this post?\", React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck1\",\n      name: \"report\",\n      onClick: this.onClick(1),\n      checked: this.state.radio === 1 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Its spam or inappropriate\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck2\",\n      name: \"report\",\n      onClick: this.onClick(2),\n      checked: this.state.radio === 2 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Nudity or pornography\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck3\",\n      name: \"report\",\n      onClick: this.onClick(3),\n      checked: this.state.radio === 3 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, \"Hate speech or symbols\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck4\",\n      name: \"report\",\n      onClick: this.onClick(4),\n      checked: this.state.radio === 4 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"Violence or threat violence\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck5\",\n      name: \"report\",\n      onClick: this.onClick(5),\n      checked: this.state.radio === 5 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Sale or promotion of firearms\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck6\",\n      name: \"report\",\n      onClick: this.onClick(6),\n      checked: this.state.radio === 6 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"Sale or promotion of drugs\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck7\",\n      name: \"report\",\n      onClick: this.onClick(7),\n      checked: this.state.radio === 7 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, \"Harassment or bullying\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck8\",\n      name: \"report\",\n      onClick: this.onClick(8),\n      checked: this.state.radio === 8 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \"Intellectual property violation\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck9\",\n      name: \"report\",\n      onClick: this.onClick(9),\n      checked: this.state.radio === 9 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, \"Self injury\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck10\",\n      name: \"report\",\n      onClick: this.onClick(10),\n      checked: this.state.radio === 10 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, \"False Information\")), React.createElement(\"div\", {\n      className: \"custom-control custom-radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"custom-control-input\",\n      id: \"ck11\",\n      name: \"report\",\n      onClick: this.onClick(11),\n      checked: this.state.radio === 11 ? \"checked\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"ck11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, \"Others\")), this.state.radio === 11 ? React.createElement(\"div\", {\n      className: \"md-form form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"md-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      style: {\n        paddingTop: 12\n      },\n      className: \"md-textarea form-control\",\n      onBlur: e => !e.target.value.length && this.refs.report.classList.remove('active'),\n      onFocus: () => this.refs.report.classList.add('active'),\n      id: \"report\",\n      onChange: e => this.setState({\n        reportOther: e.target.value\n      }),\n      value: this.state.caption,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, this.state.reportOther), React.createElement(\"label\", {\n      htmlFor: \"report\",\n      ref: \"report\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, \"Spesify Your Report here\"))) : \"\")), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"secondary\",\n      onClick: () => this.toggleRepost(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, \"Close\"), React.createElement(MDBBtn, {\n      color: \"primary\",\n      onClick: this.sendReport,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, \"Send Report\"))), React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      size: \"12\",\n      className: \"w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"float-left flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: profile_url + this.props.postprofilepicture,\n      className: \"round mr-3\",\n      alt: \"aligment\",\n      style: {\n        width: 60,\n        height: 60\n      },\n      onClick: () => this.props.history.push(\"/profile/\" + this.props.postusername),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"user-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"bolder pointer\",\n      onClick: () => this.props.history.push(\"/profile/\" + this.props.postusername),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, this.props.postusername), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, this.props.posttime))), React.createElement(\"div\", {\n      className: \"float-right con-moreinfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, React.createElement(MDBDropdown, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, React.createElement(MDBDropdownToggle, {\n      caret: true,\n      color: \"primary\",\n      className: \"more-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"more-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"More\")), React.createElement(MDBDropdownMenu, {\n      right: true,\n      basic: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(MDBDropdownItem, {\n      onClick: this.report,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, \"Report\"), React.createElement(MDBDropdownItem, {\n      onClick: async () => {\n        await navigator.clipboard.writeText(\"\".concat(window.location.origin, \"/post/\").concat(this.props._id));\n        toast.success('Copied!');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, \"Copy Link\"), React.createElement(MDBDropdownItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, \"Mute\"))))))), React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      size: \"12\",\n      className: \"mt-3 w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, React.createElement(MDBCarousel, {\n      activeItem: 1,\n      length: this.props.postimages.length,\n      showControls: this.props.postimages.length > 1,\n      showIndicators: this.props.postimages.length > 1,\n      className: \"z-depth-1\",\n      interval: false,\n      slide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, React.createElement(MDBCarouselInner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }, this.props.postimages.map((o, id) => {\n      return React.createElement(MDBCarouselItem, {\n        itemId: id + 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, React.createElement(MDBView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, React.createElement(ReactCursorPosition, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        onDoubleClick: this.togglelike,\n        className: \"d-block w-100\",\n        src: this.state.postlikes < 0 ? o : post_url + o,\n        alt: \"image \".concat(id + 1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }))));\n    })))))), React.createElement(MDBModal, {\n      isOpen: this.state.showlikes,\n      toggle: () => this.setState({\n        showlikes: !this.state.showlikes\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, React.createElement(MDBModalHeader, {\n      toggle: () => this.setState({\n        showlikes: !this.state.showlikes\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, \"Likes List\"), React.createElement(MDBModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, this.state.likeslist.map(o => {\n      return React.createElement(\"div\", {\n        className: \"comments mb-2\",\n        onClick: () => this.props.history.push(\"/profile/\" + o.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: profile_url + o.profilepicture,\n        className: \"round mr-3\",\n        alt: \"aligment\",\n        width: \"40\",\n        height: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"comment-info mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bolder mr-2 pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, o.username)));\n    })), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"secondary\",\n      onClick: () => this.setState({\n        showlikes: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, \"Close\"))), React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      size: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      className: 'pointer ',\n      fa: this.props.likestatus,\n      far: !this.props.likestatus,\n      onClick: this.togglelike,\n      id: \"postlike\",\n      icon: \"heart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }), React.createElement(MDBIcon, {\n      className: \"pointer\",\n      far: true,\n      icon: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490\n      },\n      __self: this\n    }, this.state.postlikes > 0 ? React.createElement(\"span\", {\n      className: \"bolder pointer\",\n      onClick: () => this.setState({\n        showlikes: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, this.state.postlikes < 0 ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, \"\\u221E\") : this.state.postlikes, \" like\", this.state.postlikes > 1 ? \"s\" : \"\") : null, React.createElement(\"div\", {\n      className: \"img_desc normalweight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"bolder pointer normalweight\",\n      onClick: () => this.props.history.push(\"/profile/\" + this.props.postusername),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, this.props.postusername), \" \\xA0\", React.createElement(\"span\", {\n      style: {\n        whiteSpace: \"pre-line\"\n      },\n      dangerouslySetInnerHTML: {\n        __html: this.props.postcaption.split(\" \").map(o => {\n          switch (o.charAt(0)) {\n            case \"@\":\n              return \"<a href=\\\"\".concat(base_url, \"profile/\").concat(o.substring(1), \"\\\" target=\\\"_blank\\\" style=\\\"color:blue\\\"> \").concat(o, \" </a>\");\n\n            case \"#\":\n              return \"<a href=\\\"\".concat(base_url, \"hashtag/\").concat(o.substring(1), \"\\\" target=\\\"_blank\\\" style=\\\"color:blue\\\"> \").concat(o, \" </a>\");\n\n            default:\n              return o;\n          }\n        }).join(\" \")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502\n      },\n      __self: this\n    })), !this.state.showFullComments && this.props.totalcomment > 0 ? React.createElement(\"div\", {\n      onClick: () => this.setState({\n        showFullComments: true\n      }),\n      className: \"pointer mt-2 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }, \"View \", this.props.totalcomment > 10 ? \"all\" : \"\", \" \", this.props.totalcomment < 0 ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, \"\\u221E\") : this.props.totalcomment, \" Comment\", this.props.totalcomment > 1 ? \"s\" : \"\") : null, React.createElement(\"div\", {\n      id: \"comment-container\",\n      className: \"mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }, this.state.showFullComments ? this.state.comments.map(o => {\n      return React.createElement(Comment, Object.assign({}, this.props, {\n        refs: this.refs,\n        data: o,\n        postid: this.props._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531\n        },\n        __self: this\n      }));\n    }) : this.state.tempComments.map(o => {\n      return React.createElement(Comment, Object.assign({}, this.props, {\n        refs: this.refs,\n        data: o,\n        postid: this.props._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536\n        },\n        __self: this\n      }));\n    }), this.props.loggedin ? React.createElement(\"div\", {\n      className: \"comments mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: profile_url + this.props.profilepicture,\n      className: \"round mr-3\",\n      alt: \"aligment\",\n      width: 40,\n      height: \"100%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"md-form usercomment w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546\n      },\n      __self: this\n    }, this.state.showsticker && React.createElement(\"div\", {\n      className: \"emoji-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547\n      },\n      __self: this\n    }, React.createElement(Picker, {\n      set: \"emojione\",\n      title: \"Choose Sticker\",\n      onSelect: this.addEmoji,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548\n      },\n      __self: this\n    })), this.state.searchingStatus ? React.createElement(\"div\", {\n      className: \"autocomplete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, this.state.search ? this.state.search.map(o => {\n      return React.createElement(\"div\", {\n        onClick: e => {\n          const comment = this.refs.comment.value.split(\" \");\n          comment[comment.length - 1] = \"@\".concat(o._source.username, \" \");\n          this.refs.comment.value = comment.join(\" \");\n          this.setState({\n            searchingStatus: false,\n            search: []\n          }, () => this.refs.comment.focus());\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: profile_url + o._source.profilepicture,\n        className: \"mr-2\",\n        width: 30,\n        alt: o._source.username + \"'s photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      }, o._source.username));\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577\n      },\n      __self: this\n    }, \"No user founded\"))) : null, React.createElement(\"textarea\", {\n      style: {\n        paddingTop: 0\n      },\n      className: \"md-textarea comment-textarea form-control\",\n      id: \"usercomment\",\n      onKeyUp: this.handlecomment,\n      ref: \"comment\",\n      placeholder: \"Enter Your Comments Here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584\n      },\n      __self: this\n    }), React.createElement(MDBBtn, {\n      className: \"sticker\",\n      onClick: this.togglesticker,\n      size: \"lg\",\n      gradient: \"purple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      far: true,\n      icon: \"laugh-beam\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593\n      },\n      __self: this\n    })))) : \"\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    id: state.user._id,\n    token: state.user.token,\n    loggedin: state.user.loggedin,\n    profilepicture: state.user.profilepicture,\n    username: state.user.username\n  };\n};\n\nexport default connect(mapStateToProps)(Post);","map":{"version":3,"sources":["/Users/ericanthonywu/Projects/TA-Purwadhika/frontend/src/views/template/Post.jsx"],"names":["React","MDBBtn","MDBCarousel","MDBCarouselInner","MDBCarouselItem","MDBCol","MDBContainer","MDBDropdown","MDBDropdownItem","MDBDropdownMenu","MDBDropdownToggle","MDBIcon","MDBModal","MDBModalBody","MDBModalFooter","MDBModalHeader","MDBInput","MDBRow","MDBView","axios","Picker","Comment","PostVideo","ReactCursorPosition","api_url","base_url","post_url","profile_url","connect","toast","moment","Post","Component","constructor","props","handleOutsideClick","e","document","querySelector","setState","showsticker","contains","target","key","togglesticker","togglelike","loggedin","likelist","state","likeslist","getElementById","classList","remove","add","postlikes","filter","o","id","post","token","_id","action","catch","err","console","log","push","username","profilepicture","localStorage","getItem","error","handlecomment","arr","value","split","keyCode","shiftKey","comments","replace","then","res","tempComments","data","like","time","user","length","charAt","searchingStatus","searchValue","search","searchLoading","slice","param","addEmoji","emoji","native","refs","comment","addEventListener","onkeydown","removeEventListener","report","reportModal","toggleRepost","onClick","nr","radio","sendReport","reportOther","radioMeans","postId","r","success","commentlike","likestatus","showFullComments","componentDidMount","render","style","toggle","paddingTop","caption","postprofilepicture","width","height","history","postusername","posttime","navigator","clipboard","writeText","window","location","origin","postimages","map","showlikes","whiteSpace","__html","postcaption","substring","join","totalcomment","_source","focus","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    MDBBtn,\n    MDBCarousel,\n    MDBCarouselInner,\n    MDBCarouselItem,\n    MDBCol,\n    MDBContainer,\n    MDBDropdown,\n    MDBDropdownItem,\n    MDBDropdownMenu,\n    MDBDropdownToggle,\n    MDBIcon, MDBModal, MDBModalBody, MDBModalFooter, MDBModalHeader,\n    MDBInput,\n    MDBRow,\n    MDBView\n} from \"mdbreact\";\nimport axios from 'axios'\nimport 'emoji-mart/css/emoji-mart.css'\nimport {Picker} from 'emoji-mart'\nimport Comment from './Comment'\nimport PostVideo from \"./postvideo\";\nimport ReactCursorPosition from 'react-cursor-position'\nimport {api_url, base_url, post_url, profile_url} from \"../../global\";\nimport {connect} from \"react-redux\";\nimport {toast} from \"react-toastify\";\nimport moment from \"moment\";\n\nclass Post extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showsticker: false,\n            postlikes: props.postlikes,\n            commentlike: false,\n            likestatus: props.likestatus,\n            comments: props.comments,\n            tempComments: [],\n            showFullComments: false,\n            likeslist: props.likeslist,\n            searchValue: null,\n            search: null,\n            searchLoading: false,\n            reportModal: false,\n            radio: 0,\n            reportOther: \"\"\n        };\n    }\n\n    handleOutsideClick = e => {\n        // ignore clicks on the component itself\n        if (document.querySelector('section.emoji-mart') !== null) {\n            this.setState({\n                showsticker: !document.querySelector('section.emoji-mart').contains(e.target) || e.key === \"Escape\"\n            });\n            this.togglesticker()\n        }\n    };\n\n\n    togglelike = e => {\n        if (this.props.loggedin) {\n            const likelist = [...this.state.likeslist];\n            if (document.getElementById('postlike').classList.contains('fa')) {\n                document.getElementById('postlike').classList.remove('fa');\n                document.getElementById('postlike').classList.add('far');\n                this.setState({\n                    postlikes: this.state.postlikes - 1,\n                    likeslist: likelist.filter(o => {\n                        return o === this.props.id\n                    })\n                });\n                axios.post(`${api_url}tooglelike`, {\n                    token: this.props.token,\n                    id: this.props._id,\n                    action: \"remove\"\n                }).catch(err => {\n                    console.log(err);\n                    likelist.push({\n                        username: this.props.username,\n                        profilepicture: localStorage.getItem('profile_picture')\n                    });\n                    this.setState({\n                        postlikes: this.state.postlikes + 1,\n                        likeslist: likelist\n                    })\n                })\n            } else {\n                document.getElementById('postlike').classList.remove('far');\n                document.getElementById('postlike').classList.add('fa');\n                likelist.push({\n                    username: this.props.username,\n                    profilepicture: localStorage.getItem('profile_picture')\n                });\n                this.setState({\n                    postlikes: this.state.postlikes + 1,\n                    likeslist: likelist\n                });\n                axios.post(`${api_url}tooglelike`, {\n                    token: this.props.token,\n                    id: this.props._id,\n                    action: \"add\"\n                }).catch(err => {\n                    console.log(err);\n                    this.setState({\n                        postlikes: this.state.postlikes - 1,\n                        likeslist: likelist.filter(o => o === this.props.id)\n                    })\n                })\n            }\n        } else {\n            toast.error('You need to logged In');\n        }\n    };\n    handlecomment = e => {\n        const arr = e.target.value.split(\" \");\n        if (e.keyCode === 13 && !e.shiftKey) {\n            const comments = e.target.value.replace(/\\n$/, \"\");\n            e.target.value = \"\";\n            axios.post(`${api_url}comments`, {\n                value: comments,\n                id: this.props._id,\n                token: this.props.token,\n            }).then(res => {\n                this.setState({\n                    tempComments: [...this.state.tempComments, {\n                        _id: res.data.id,\n                        comments: comments,\n                        like: 0,\n                        time: moment(),\n                        user: {\n                            username: this.props.username,\n                            // profilepicture: this.props.profilepicture\n                            profilepicture: localStorage.getItem('profile_picture')\n                        }\n                    }],\n                    comments: [...this.state.comments, {\n                        _id: res.data.id,\n                        comments: comments,\n                        like: 0,\n                        time: moment(),\n                        user: {\n                            username: this.props.username,\n                            profilepicture: localStorage.getItem('profile_picture')\n                        }\n                    }]\n                })\n            }).catch(err => {\n\n            })\n        } else if (arr[arr.length - 1].charAt(0) == \"@\") {\n            this.setState({\n                searchingStatus: true,\n                searchValue: arr[arr.length - 1].replace(\"@\", \"\")\n            })\n        } else if (e.target.value.charAt(e.target.value.length - 1) == \" \") {\n            this.setState({\n                searchValue: null,\n                search: null,\n                searchingStatus: false,\n                searchLoading: false\n            })\n        }\n        if (e.keyCode == 8) {\n            if (arr[arr.length - 1].charAt(0) == \"@\") {\n                this.setState({\n                    searchValue: arr[arr.length - 1].replace(\"@\", \"\").slice(0, -1),\n                    searchingStatus: true\n                })\n            } else {\n                this.setState({\n                    searchingStatus: false\n                })\n            }\n        }\n        if (this.state.searchingStatus) {\n            axios.post(`${api_url}searchUser`, {\n                param: this.state.searchValue.replace(\"@\", \"\")\n            }).then(res => {\n                this.setState({\n                    search: res.data.data !== null ? res.data.data : [],\n                })\n            })\n        }\n    };\n    componentDidMount() {\n        console.log(this.props)\n    }\n\n    addEmoji = e => {\n        let emoji = e.native;\n        this.refs.comment.value += emoji\n    };\n    togglesticker = () => {\n        if (!this.state.showsticker) {\n            // attach/remove event handler\n            document.addEventListener('click', this.handleOutsideClick, false);\n            document.onkeydown = this.handleOutsideClick\n        } else {\n            document.removeEventListener('click', this.handleOutsideClick, false);\n            document.onkeydown = this.handleOutsideClick\n        }\n        this.setState({\n            showsticker: !this.state.showsticker\n        })\n    };\n    report = e => this.setState({reportModal: true});\n\n    toggleRepost = () => this.setState({reportModal: !this.state.reportModal});\n\n    onClick = nr => () => {\n        this.setState({\n            radio: nr\n        });\n    };\n    sendReport = e => {\n        if (this.state.radio || (this.state.radio === 11 && !this.state.reportOther)) {\n            let radioMeans = '';\n            switch (this.state.radio) {\n                case 1:\n                    radioMeans = \"Its spam or inappropriate\";\n                    break;\n                case 2:\n                    radioMeans = \"Nudity or pornography\";\n                    break;\n                case 3:\n                    radioMeans = \"Hate speech or symbols\";\n                    break;\n                case 4:\n                    radioMeans = \"Violence or threat violence\";\n                    break;\n                case 5:\n                    radioMeans = \"Sale or promotion of firearms\";\n                    break;\n                case 6:\n                    radioMeans = \"Sale or promotion of drugs\";\n                    break;\n                case 7:\n                    radioMeans = \"Harassment or bullying\";\n                    break;\n                case 8:\n                    radioMeans = \"Intellectual property violation\";\n                    break;\n                case 9:\n                    radioMeans = \"Self injury\";\n                    break;\n                case 10:\n                    radioMeans = \"False Information\";\n                    break;\n                case 11:\n                    radioMeans = this.state.reportOther;\n                    break\n            }\n            axios.post(`${api_url}reportPost`, {\n                token: this.props.token || localStorage.getItem('token'),\n                report: radioMeans,\n                postId: this.props._id\n            }).then(r => toast.success(\"Post reported! \")).catch(err => toast.error(\"You already report this post\"))\n            this.setState({\n                reportModal: false\n            })\n        }\n    };\n\n    render() {\n        return (\n            <div style={this.props.style}>\n                <MDBModal isOpen={this.state.reportModal} toggle={() => this.toggleRepost()}>\n                    <MDBModalHeader toggle={this.toggle}>Report Post</MDBModalHeader>\n                    <MDBModalBody className={\"text-left\"}>\n                        <MDBContainer>\n                            What are your reason for reporting this post?\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck1\"\n                                       name=\"report\" onClick={this.onClick(1)}\n                                       checked={this.state.radio === 1 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck1\">\n                                    Its spam or inappropriate\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck2\"\n                                       name=\"report\" onClick={this.onClick(2)}\n                                       checked={this.state.radio === 2 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck2\">\n                                    Nudity or pornography\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck3\"\n                                       name=\"report\" onClick={this.onClick(3)}\n                                       checked={this.state.radio === 3 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck3\">\n                                    Hate speech or symbols\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck4\"\n                                       name=\"report\" onClick={this.onClick(4)}\n                                       checked={this.state.radio === 4 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck4\">\n                                    Violence or threat violence\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck5\"\n                                       name=\"report\" onClick={this.onClick(5)}\n                                       checked={this.state.radio === 5 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck5\">\n                                    Sale or promotion of firearms\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck6\"\n                                       name=\"report\" onClick={this.onClick(6)}\n                                       checked={this.state.radio === 6 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck6\">\n                                    Sale or promotion of drugs\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck7\"\n                                       name=\"report\" onClick={this.onClick(7)}\n                                       checked={this.state.radio === 7 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck7\">\n                                    Harassment or bullying\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck8\"\n                                       name=\"report\" onClick={this.onClick(8)}\n                                       checked={this.state.radio === 8 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck8\">\n                                    Intellectual property violation\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck9\"\n                                       name=\"report\" onClick={this.onClick(9)}\n                                       checked={this.state.radio === 9 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck9\">\n                                    Self injury\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck10\"\n                                       name=\"report\" onClick={this.onClick(10)}\n                                       checked={this.state.radio === 10 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck10\">\n                                    False Information\n                                </label>\n                            </div>\n                            <div className=\"custom-control custom-radio\">\n                                <input type=\"radio\" className=\"custom-control-input\" id=\"ck11\"\n                                       name=\"report\" onClick={this.onClick(11)}\n                                       checked={this.state.radio === 11 ? \"checked\" : \"\"}/>\n                                <label className=\"custom-control-label\" htmlFor=\"ck11\">\n                                    Others\n                                </label>\n                            </div>\n                            {\n                                this.state.radio === 11 ?\n                                    <div className=\"md-form form-group\">\n                                        <div className=\"md-form\">\n                                        <textarea style={{paddingTop: 12}}\n                                                  className={\"md-textarea form-control\"}\n                                                  onBlur={e => !e.target.value.length && this.refs.report.classList.remove('active')}\n                                                  onFocus={() => this.refs.report.classList.add('active')}\n                                                  id={\"report\"}\n                                                  onChange={e => this.setState({reportOther: e.target.value})}\n                                                  value={this.state.caption}\n                                        >\n                                                {this.state.reportOther}\n                                            </textarea>\n                                            <label htmlFor=\"report\" ref={\"report\"}>Spesify Your Report here</label>\n                                        </div>\n                                    </div>\n                                    :\n                                    \"\"\n                            }\n                        </MDBContainer>\n                    </MDBModalBody>\n                    <MDBModalFooter>\n                        <MDBBtn color=\"secondary\" onClick={() => this.toggleRepost()}>Close</MDBBtn>\n                        <MDBBtn color=\"primary\" onClick={this.sendReport}>Send Report</MDBBtn>\n                    </MDBModalFooter>\n                </MDBModal>\n                <MDBContainer>\n                    <MDBRow>\n                        <MDBCol size=\"12\" className={\"w-100\"}>\n                            <div className={\"float-left flex\"}>\n                                <img src={profile_url + this.props.postprofilepicture}\n                                     className=\"round mr-3\"\n                                     alt=\"aligment\" style={{width: 60,height: 60}}\n                                     onClick={() => this.props.history.push(\"/profile/\" + this.props.postusername)}/>\n                                <div className={\"user-info\"}>\n                                    <span className={\"bolder pointer\"}\n                                          onClick={() => this.props.history.push(\"/profile/\" + this.props.postusername)}>{this.props.postusername}</span>\n                                    <span>{this.props.posttime}</span>\n                                </div>\n                            </div>\n                            <div className={\"float-right con-moreinfo\"}>\n                                <MDBDropdown>\n                                    <MDBDropdownToggle caret color=\"primary\" className={\"more-button\"}>\n                                        <span className={\"more-info\"}>More</span>\n                                    </MDBDropdownToggle>\n                                    <MDBDropdownMenu right basic>\n                                        <MDBDropdownItem onClick={this.report}>Report</MDBDropdownItem>\n                                        <MDBDropdownItem onClick={async () => {\n                                            await navigator.clipboard.writeText(`${window.location.origin}/post/${this.props._id}`);\n                                            toast.success('Copied!')\n                                        }}>Copy Link</MDBDropdownItem>\n                                        <MDBDropdownItem>Mute</MDBDropdownItem>\n                                    </MDBDropdownMenu>\n                                </MDBDropdown>\n                            </div>\n                        </MDBCol>\n                    </MDBRow>\n                </MDBContainer>\n                <MDBContainer>\n                    <MDBRow>\n                        <MDBCol size=\"12\" className={\"mt-3 w-100\"}>\n                            <MDBCarousel\n                                activeItem={1}\n                                length={this.props.postimages.length}\n                                showControls={this.props.postimages.length > 1}\n                                showIndicators={this.props.postimages.length > 1}\n                                className=\"z-depth-1\"\n                                interval={false}\n                                slide\n                            >\n                                <MDBCarouselInner>\n                                    {this.props.postimages.map((o, id) => {\n                                        return (\n                                            <MDBCarouselItem itemId={id + 1}>\n                                                <MDBView>\n                                                    <ReactCursorPosition>\n                                                        <img\n                                                            onDoubleClick={this.togglelike}\n                                                            className=\"d-block w-100\"\n                                                            src={this.state.postlikes < 0 ? o : post_url + o}\n                                                            alt={`image ${id + 1}`}\n                                                        />\n                                                    </ReactCursorPosition>\n                                                </MDBView>\n                                            </MDBCarouselItem>\n                                        )\n                                    })}\n                                </MDBCarouselInner>\n                            </MDBCarousel>\n                        </MDBCol>\n                    </MDBRow>\n                </MDBContainer>\n                <MDBModal isOpen={this.state.showlikes} toggle={() => this.setState({\n                    showlikes: !this.state.showlikes\n                })}>\n                    <MDBModalHeader toggle={() => this.setState({\n                        showlikes: !this.state.showlikes\n                    })}>Likes List</MDBModalHeader>\n                    <MDBModalBody>\n                        {\n                            this.state.likeslist.map(o => {\n                                return (\n                                    <div className=\"comments mb-2\"\n                                         onClick={() => this.props.history.push(\"/profile/\" + o.username)}><img\n                                        src={profile_url + o.profilepicture}\n                                        className=\"round mr-3\" alt=\"aligment\" width=\"40\" height=\"100%\"/>\n                                        <div className=\"comment-info mr-5\"><span\n                                            className=\"bolder mr-2 pointer\">{o.username}</span>\n                                        </div>\n                                    </div>\n                                )\n                            })\n                        }\n                    </MDBModalBody>\n                    <MDBModalFooter>\n                        <MDBBtn color=\"secondary\" onClick={() => this.setState({\n                            showlikes: false\n                        })}>Close</MDBBtn>\n                    </MDBModalFooter>\n                </MDBModal>\n                <MDBContainer>\n                    <MDBRow>\n                        <MDBCol size={12}>\n                            <div className=\"icon\">\n                                <MDBIcon className={'pointer '} fa={this.props.likestatus} far={!this.props.likestatus}\n                                         onClick={this.togglelike} id={\"postlike\"} icon=\"heart\"/>\n                                <MDBIcon className={\"pointer\"} far icon=\"comment\"/>\n                            </div>\n                            <div className=\"description\">\n                                {this.state.postlikes > 0 ?\n                                    <span className=\"bolder pointer\" onClick={() => this.setState({\n                                        showlikes: true\n                                    })}>{this.state.postlikes < 0 ?\n                                        <span>&infin;</span> : this.state.postlikes} like{this.state.postlikes > 1 ? \"s\" : \"\"}</span>\n                                    :\n                                    null\n                                }\n                                <div className={\"img_desc normalweight\"}><span\n                                    className={\"bolder pointer normalweight\"}\n                                    onClick={() => this.props.history.push(\"/profile/\" + this.props.postusername)}>{this.props.postusername}</span> &nbsp;\n                                    <span style={{whiteSpace: \"pre-line\"}} dangerouslySetInnerHTML={{\n                                        __html: this.props.postcaption.split(\" \").map(o => {\n                                            switch (o.charAt(0)) {\n                                                case \"@\":\n                                                    return `<a href=\"${base_url}profile/${o.substring(1)}\" target=\"_blank\" style=\"color:blue\"> ${o} </a>`;\n                                                case \"#\":\n                                                    return `<a href=\"${base_url}hashtag/${o.substring(1)}\" target=\"_blank\" style=\"color:blue\"> ${o} </a>`;\n                                                default:\n                                                    return o\n                                            }\n                                        }).join(\" \")\n                                    }}>\n\n                                </span>\n                                </div>\n                                {\n                                    !this.state.showFullComments && this.props.totalcomment > 0 ?\n                                        <div onClick={() => this.setState({\n                                            showFullComments: true\n                                        })}\n                                             className={\"pointer mt-2 mb-2\"}>View {this.props.totalcomment > 10 ? \"all\" : \"\"} {this.props.totalcomment < 0 ?\n                                            <span>&infin;</span> : this.props.totalcomment} Comment{this.props.totalcomment > 1 ? \"s\" : \"\"}\n                                        </div>\n                                        :\n                                        null\n                                }\n                                <div id=\"comment-container\" className={\"mt-3\"}>\n                                    {this.state.showFullComments ?\n                                        this.state.comments.map(o => {\n                                            return <Comment {...this.props} refs={this.refs} data={o}\n                                                            postid={this.props._id}/>\n                                        })\n                                        :\n                                        this.state.tempComments.map(o => {\n                                            return <Comment {...this.props} refs={this.refs} data={o}\n                                                            postid={this.props._id}/>\n                                        })\n                                    }\n                                    {this.props.loggedin ?\n                                        <div className=\"comments mb-2\">\n                                            <img src={profile_url + this.props.profilepicture}\n                                                 className=\"round mr-3\"\n                                                 alt=\"aligment\" width={40} height={\"100%\"}\n                                            />\n                                            <div className=\"md-form usercomment w-100\">\n                                                {this.state.showsticker && <div className={\"emoji-container\"}>\n                                                    <Picker set='emojione' title={\"Choose Sticker\"}\n                                                            onSelect={this.addEmoji}/>\n                                                </div>}\n                                                {\n                                                    this.state.searchingStatus ?\n                                                        <div className={\"autocomplete\"}>\n                                                            {\n                                                                this.state.search ?\n                                                                    this.state.search.map(o => {\n                                                                        return (\n                                                                            <div onClick={e => {\n                                                                                const comment = this.refs.comment.value.split(\" \");\n                                                                                comment[comment.length - 1] = `@${o._source.username} `;\n                                                                                this.refs.comment.value = comment.join(\" \");\n                                                                                this.setState({\n                                                                                    searchingStatus: false,\n                                                                                    search: []\n                                                                                }, () => this.refs.comment.focus())\n                                                                            }}>\n                                                                                <img\n                                                                                    src={profile_url + o._source.profilepicture}\n                                                                                    className={\"mr-2\"} width={30}\n                                                                                    alt={o._source.username + \"'s photo\"}/>\n                                                                                <span>{o._source.username}</span>\n                                                                            </div>\n                                                                        )\n                                                                    })\n                                                                    :\n                                                                    <div>\n                                                                        <h1>No user founded</h1>\n                                                                    </div>\n                                                            }\n                                                        </div>\n                                                        :\n                                                        null\n                                                }\n                                                <textarea style={{paddingTop: 0}}\n                                                          className={\"md-textarea comment-textarea form-control\"}\n                                                          id={\"usercomment\"}\n                                                          onKeyUp={this.handlecomment}\n                                                          ref={\"comment\"}\n                                                          placeholder={\"Enter Your Comments Here\"}\n                                                />\n                                                <MDBBtn className={\"sticker\"}\n                                                        onClick={this.togglesticker} size=\"lg\"\n                                                        gradient=\"purple\"><MDBIcon\n                                                    far icon=\"laugh-beam\"/></MDBBtn>\n                                            </div>\n                                        </div>\n                                        :\n                                        \"\"\n                                    }\n                                </div>\n                            </div>\n                        </MDBCol>\n                    </MDBRow>\n                </MDBContainer>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        id: state.user._id,\n        token: state.user.token,\n        loggedin: state.user.loggedin,\n        profilepicture: state.user.profilepicture,\n        username: state.user.username,\n    }\n};\n\nexport default connect(mapStateToProps)(Post)\n"]},"metadata":{},"sourceType":"module"}