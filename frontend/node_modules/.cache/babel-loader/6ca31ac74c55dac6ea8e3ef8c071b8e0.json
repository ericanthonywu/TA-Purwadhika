{"ast":null,"code":"var _jsxFileName = \"/Users/ericanthonywu/Projects/TA-Purwadhika/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route, withRouter, Switch, Link } from \"react-router-dom\";\nimport { MDBBtn, MDBCollapse, MDBDropdown, MDBDropdownItem, MDBDropdownMenu, MDBDropdownToggle, MDBFormInline, MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavbarToggler, MDBNavItem, MDBNavLink, MDBModal, MDBModalBody, MDBIcon, MDBInput } from \"mdbreact\";\nimport DashboardPage from './views/Dashboard';\nimport Register from './views/Register';\nimport Login from './views/Login';\nimport Profile from \"./views/Profile\";\nimport Error404 from \"./views/template/404\";\nimport AddPost from \"./views/AddPost\";\nimport { withAuth } from \"./views/template/CheckToken\";\nimport Chat from \"./views/Chat\";\nimport { connect } from \"react-redux\";\nimport { login, logout, setloggedin } from \"./redux/actions\";\nimport ShowPost from \"./views/ShowPost\";\nimport UpdateProfile from \"./views/UpdateProfile\";\nimport { api_url, backend_url, base_url, post_url, profile_url } from \"./global\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport Search from \"./views/Search\";\nimport socketio from \"socket.io-client\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\nimport Explore from \"./views/Explore\";\n\nclass App extends Component {\n  constructor(a) {\n    super(a);\n\n    this.onLogout = () => {\n      this.props.logout();\n      this.props.history.push('/');\n    };\n\n    this.toggleCollapse = () => {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    };\n\n    this.handleActiveNav = e => {\n      const allnav = document.querySelectorAll('.navbar-item,.nav-link');\n\n      for (let i = 0; i < allnav.length; i++) {\n        allnav[i].classList.remove('active');\n        allnav[i].closest('.nav-item').classList.remove('active');\n      }\n\n      e.target.classList.add('active');\n      e.target.closest('.nav-item').classList.add('active');\n      this.setState({\n        isOpen: false\n      });\n    };\n\n    this.searchUser = e => {\n      if (e.target.value.length) {\n        Axios.post(\"\".concat(api_url, \"searchUser\"), {\n          param: e.target.value\n        }).then(res => {\n          this.setState({\n            search: res.data.data !== null ? res.data.data.filter(o => o._source.username !== this.props.username) : []\n          });\n        });\n      } else {\n        this.setState({\n          search: []\n        });\n      }\n    };\n\n    this.state = {\n      isOpen: false,\n      loggedin: false,\n      bottommodal: false,\n      timeout: null,\n      chatMinimized: localStorage.getItem('chatMinimized'),\n      notifications: [],\n      unReadNotification: 0,\n      listChat: [],\n      search: null\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem('token') && this.props.token) {\n      this.setState({\n        bottommodal: true\n      });\n    }\n\n    const location = this.props.location;\n    const allnav = document.querySelectorAll('.navbar-item,.nav-link');\n    const pathname = location.pathname.split('/')[1];\n    const checkurl = ['', 'explore'];\n\n    for (let i = 0; i < allnav.length; i++) {\n      allnav[i].classList.remove('active');\n      allnav[i].closest('.nav-item').classList.remove('active');\n    }\n\n    for (let x = 0; x <= checkurl.length; x++) {\n      if (pathname === checkurl[x]) {\n        allnav[x].classList.add('active');\n        allnav[x].closest('.nav-item').classList.add('active');\n      }\n    }\n\n    if (localStorage.getItem('token')) {\n      this.props.setloggedin({\n        username: localStorage.getItem('username'),\n        token: localStorage.getItem('token'),\n        _id: localStorage.getItem('_id'),\n        profilepicture: localStorage.getItem('profile_picture')\n      });\n      const socket = socketio(backend_url, {\n        query: {\n          token: localStorage.getItem('token')\n        }\n      });\n      Axios.post(\"\".concat(api_url, \"notification\"), {\n        token: localStorage.getItem('token')\n      }).then(res => {\n        this.setState({\n          notifications: res.data.data,\n          unReadNotification: res.data.unRead\n        });\n      });\n      Axios.post(\"\".concat(api_url, \"getChat\"), {\n        token: localStorage.getItem('token')\n      }).then(res => {\n        let tempData = [];\n        res.data.data.forEach(o => {\n          o.participans.forEach(data => {\n            if (data._id !== localStorage.getItem('_id')) {\n              tempData.push(data);\n            }\n          });\n        });\n        this.setState({\n          listChat: tempData\n        });\n      });\n      socket.on('newNotifications', notifications => {\n        if (notifications.to.username == (this.props.username || localStorage.getItem('username'))) {\n          const tempNotifications = this.state.notifications;\n          tempNotifications.unshift(notifications);\n          this.setState({\n            notifications: tempNotifications,\n            unReadNotification: this.state.unReadNotification + 1\n          });\n        }\n      });\n      socket.on('newChat', chat => {\n        if (chat.to._id == this.props.userid && base_url + \"chat/\" + chat.from.username != window.location.href) {\n          toast.info(\"\".concat(chat.from.username, \" sends you a message\"));\n        }\n      });\n      socket.on('block', data => {\n        // alert(data.to == localStorage.getItem('_id'))\n        setTimeout(() => {\n          if (data.to == (this.props.userid || localStorage.getItem('_id'))) {\n            toast.error(\"Your account has been blocked\");\n            this.props.logout();\n            this.props.history.push('/');\n          }\n        });\n      });\n      socket.on('suspend', data => {\n        setTimeout(() => {\n          if (data.to == localStorage.getItem('_id')) {\n            toast.error(\"Your account has been suspended\");\n            this.props.logout();\n          }\n        });\n      });\n    } else {\n      this.props.logout();\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      enableMultiContainer: true,\n      position: toast.POSITION.TOP_RIGHT,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(MDBNavbar, {\n      color: \"indigo\",\n      dark: true,\n      expand: \"md\",\n      className: 'mb-2 w-100',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(MDBNavbarBrand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      className: \"white-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"SosMed\")), React.createElement(MDBNavbarToggler, {\n      onClick: this.toggleCollapse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), React.createElement(MDBCollapse, {\n      id: \"navbarCollapse3\",\n      isOpen: this.state.isOpen,\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(MDBNavbarNav, {\n      left: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(MDBNavItem, {\n      active: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/\",\n      onClick: this.handleActiveNav,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Home\")), React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/explore\",\n      onClick: this.handleActiveNav,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Explore\"))), React.createElement(MDBNavbarNav, {\n      right: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(MDBFormInline, {\n      waves: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"md-form my-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control mr-sm-2 w-100 mt-3 w-100\",\n      type: \"text\",\n      placeholder: \"Find User\",\n      \"aria-label\": \"Search\",\n      onChange: e => {\n        if (this.state.timeout) {\n          clearTimeout(this.state.timeout);\n          this.setState({\n            timeout: null\n          });\n        }\n\n        const search = e.target.value;\n        this.setState({\n          timeout: setTimeout(() => {\n            this.props.history.push(\"/search?user=\" + search);\n          }, 500)\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    })))), this.props.loggedin ? React.createElement(React.Fragment, null, React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(MDBDropdown, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(MDBDropdownToggle, {\n      nav: true,\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: profile_url + this.props.profilepicture,\n      width: 30,\n      className: \"round\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"ml-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, this.props.username)), React.createElement(MDBDropdownMenu, {\n      className: \"dropdown-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(MDBDropdownItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(Link, {\n      onClick: () => this.setState({\n        isOpen: false\n      }),\n      to: {\n        pathname: \"/profile/\".concat(this.props.username)\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"My Profile\")), React.createElement(MDBDropdownItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(Link, {\n      onClick: () => this.setState({\n        isOpen: false\n      }),\n      to: \"/addpost\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"Add Post\")), React.createElement(MDBDropdownItem, {\n      onClick: this.onLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"logout\"))))), React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(MDBDropdown, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(MDBDropdownToggle, {\n      nav: true,\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        position: \"absolute\"\n      },\n      onClick: () => {\n        this.setState({\n          unReadNotification: 0\n        });\n        Axios.post(\"\".concat(api_url, \"readNotif\"), {\n          token: this.props.token\n        }).catch(err => {\n          if (err.statusCode == 419) {\n            toast.error(\"Session Expired\");\n            this.props.logout();\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: \"bell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }), this.state.unReadNotification ? React.createElement(\"div\", {\n      className: \"notification-unread\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, this.state.unReadNotification) : null)), React.createElement(MDBDropdownMenu, {\n      className: \"dropdown-default notification-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, this.state.notifications.map(o => {\n      return React.createElement(\"div\", {\n        className: \"notif-item pointer\",\n        style: !o.read ? {\n          backgroundColor: \"lightgrey\"\n        } : {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, o.report ? React.createElement(\"a\", {\n        style: {\n          padding: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"pointer\",\n        style: {\n          fontWeight: 600\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"Warning\"), React.createElement(\"p\", {\n        className: \"pointer\",\n        style: {\n          fontWeight: 600\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, o.message, React.createElement(\"span\", {\n        style: {\n          fontWeight: \"lighter\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, moment(o.time).fromNow()))) : React.createElement(\"a\", {\n        href: o.post ? base_url + \"post/\" + o.post._id : base_url + \"profile/\" + o.user.username,\n        target: \"_blank\",\n        style: {\n          padding: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"pointer\",\n        style: {\n          fontWeight: 600\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, o.user.username), React.createElement(\"p\", {\n        className: \"pointer\",\n        style: {\n          fontWeight: 600\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, o.message, React.createElement(\"span\", {\n        style: {\n          fontWeight: \"lighter\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, moment(o.time).fromNow())))), React.createElement(\"div\", {\n        style: {\n          float: \"right\",\n          position: \"absolute\",\n          left: \"calc(100% - 60px)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, o.post ? typeof o.post === \"string\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, \"Post \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), \" deleted\") : React.createElement(\"img\", {\n        src: post_url + o.post.image[0],\n        width: 60,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }) : React.createElement(\"img\", {\n        src: profile_url + o.user.profilepicture,\n        style: {\n          borderRadius: '50%'\n        },\n        width: 60,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      })));\n    }))))) : React.createElement(React.Fragment, null, React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: '/login',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      onClick: () => this.setState({\n        isOpen: false\n      }),\n      gradient: \"purple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, \"Login\"))), React.createElement(MDBNavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: '/register',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      onClick: () => this.setState({\n        isOpen: false\n      }),\n      gradient: \"aqua\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"Register\"))))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, this.props.loggedin ? React.createElement(React.Fragment, null, React.createElement(\"span\", {\n      className: \"toggle-chat\",\n      style: this.state.chatMinimized ? {\n        left: \"calc(100% - 20px)\"\n      } : {},\n      onClick: () => this.setState({\n        chatMinimized: !this.state.chatMinimized\n      }, () => {\n        localStorage.setItem('chatMinimized', this.state.chatMinimized);\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: this.state.chatMinimized ? \"bars\" : \"times\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"chat-container\",\n      style: this.state.chatMinimized ? {\n        width: 0,\n        left: \"100%\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      type: \"text\",\n      ref: \"finduser\",\n      onChange: this.searchUser,\n      labelClass: \"colorwhite\",\n      label: \"Find User ...\",\n      style: {\n        width: 140\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"white\",\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, this.state.search ? this.state.search.map(o => {\n      return React.createElement(\"div\", {\n        onClick: () => this.props.history.push(\"/chat/\".concat(o._source.username)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: profile_url + o._source.profilepicture,\n        className: \"mr-2\",\n        width: 30,\n        alt: o._source.username + \"'s photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, o._source.username), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }));\n    }) : null), this.state.listChat.map(data => {\n      return React.createElement(\"div\", {\n        onClick: () => this.props.history.push('/chat/' + data.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        width: 60,\n        src: profile_url + data.profilepicture,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, data.username), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }));\n    }))) : null), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: '/',\n      exact: true,\n      component: DashboardPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/explore',\n      exact: true,\n      component: Explore,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/login',\n      exact: true,\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/register',\n      exact: true,\n      component: Register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/profile/:profile',\n      component: withAuth(Profile),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/addpost',\n      exact: true,\n      component: withAuth(AddPost),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/chat/:username',\n      exact: true,\n      component: Chat,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/post/:postid',\n      component: ShowPost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/updateProfile',\n      exact: true,\n      component: withAuth(UpdateProfile),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/search',\n      component: Search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427\n      },\n      __self: this\n    }), React.createElement(Route, {\n      component: Error404,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    })), React.createElement(MDBModal, {\n      isOpen: this.state.bottommodal,\n      backdrop: false,\n      toggle: () => this.setState({\n        bottommodal: !this.state.bottommodal\n      }),\n      frame: true,\n      position: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }, React.createElement(MDBModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, \"Somedata is missing from your browser, Please Login Again\", React.createElement(MDBBtn, {\n      color: \"secondary\",\n      onClick: () => this.setState({\n        bottommodal: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }, \"Close\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.user.token,\n    username: state.user.username,\n    loggedin: state.user.loggedin,\n    profilepicture: state.user.profilepicture,\n    userid: state.user._id\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  login,\n  logout,\n  setloggedin\n})(App));","map":{"version":3,"sources":["/Users/ericanthonywu/Projects/TA-Purwadhika/frontend/src/App.js"],"names":["React","Component","Route","withRouter","Switch","Link","MDBBtn","MDBCollapse","MDBDropdown","MDBDropdownItem","MDBDropdownMenu","MDBDropdownToggle","MDBFormInline","MDBNavbar","MDBNavbarBrand","MDBNavbarNav","MDBNavbarToggler","MDBNavItem","MDBNavLink","MDBModal","MDBModalBody","MDBIcon","MDBInput","DashboardPage","Register","Login","Profile","Error404","AddPost","withAuth","Chat","connect","login","logout","setloggedin","ShowPost","UpdateProfile","api_url","backend_url","base_url","post_url","profile_url","toast","ToastContainer","Search","socketio","Axios","moment","Explore","App","constructor","a","onLogout","props","history","push","toggleCollapse","setState","isOpen","state","handleActiveNav","e","allnav","document","querySelectorAll","i","length","classList","remove","closest","target","add","searchUser","value","post","param","then","res","search","data","filter","o","_source","username","loggedin","bottommodal","timeout","chatMinimized","localStorage","getItem","notifications","unReadNotification","listChat","componentDidMount","token","location","pathname","split","checkurl","x","_id","profilepicture","socket","query","unRead","tempData","forEach","participans","on","to","tempNotifications","unshift","chat","userid","from","window","href","info","setTimeout","error","render","POSITION","TOP_RIGHT","clearTimeout","display","position","catch","err","statusCode","map","read","backgroundColor","float","report","padding","fontWeight","message","time","fromNow","user","left","image","borderRadius","setItem","width","color","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Route, withRouter, Switch, Link} from \"react-router-dom\";\nimport {\n    MDBBtn,\n    MDBCollapse,\n    MDBDropdown,\n    MDBDropdownItem,\n    MDBDropdownMenu,\n    MDBDropdownToggle,\n    MDBFormInline,\n    MDBNavbar,\n    MDBNavbarBrand,\n    MDBNavbarNav,\n    MDBNavbarToggler,\n    MDBNavItem,\n    MDBNavLink,\n    MDBModal,\n    MDBModalBody,\n    MDBIcon,\n    MDBInput,\n} from \"mdbreact\";\nimport DashboardPage from './views/Dashboard'\nimport Register from './views/Register'\nimport Login from './views/Login'\nimport Profile from \"./views/Profile\";\nimport Error404 from \"./views/template/404\";\nimport AddPost from \"./views/AddPost\";\nimport {withAuth} from \"./views/template/CheckToken\";\nimport Chat from \"./views/Chat\";\n\nimport {connect} from \"react-redux\";\nimport {login, logout, setloggedin} from \"./redux/actions\";\nimport ShowPost from \"./views/ShowPost\";\nimport UpdateProfile from \"./views/UpdateProfile\";\nimport {api_url, backend_url, base_url, post_url, profile_url} from \"./global\";\nimport {toast, ToastContainer} from \"react-toastify\";\nimport Search from \"./views/Search\";\nimport socketio from \"socket.io-client\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\nimport Explore from \"./views/Explore\";\n\n\nclass App extends Component {\n    constructor(a) {\n        super(a);\n        this.state = {\n            isOpen: false,\n            loggedin: false,\n            bottommodal: false,\n            timeout: null,\n            chatMinimized: localStorage.getItem('chatMinimized'),\n            notifications: [],\n            unReadNotification: 0,\n            listChat: [],\n            search: null,\n        };\n    }\n\n    onLogout = () => {\n        this.props.logout();\n        this.props.history.push('/');\n    };\n    toggleCollapse = () => {\n        this.setState({isOpen: !this.state.isOpen});\n    };\n    handleActiveNav = e => {\n        const allnav = document.querySelectorAll('.navbar-item,.nav-link');\n        for (let i = 0; i < allnav.length; i++) {\n            allnav[i].classList.remove('active');\n            allnav[i].closest('.nav-item').classList.remove('active')\n        }\n        e.target.classList.add('active');\n        e.target.closest('.nav-item').classList.add('active');\n        this.setState({\n            isOpen: false\n        })\n    };\n\n    componentDidMount() {\n        if (!localStorage.getItem('token') && this.props.token) {\n            this.setState({\n                bottommodal: true\n            })\n        }\n        const {location} = this.props;\n        const allnav = document.querySelectorAll('.navbar-item,.nav-link');\n        const pathname = location.pathname.split('/')[1];\n        const checkurl = [\n            '',\n            'explore',\n        ];\n        for (let i = 0; i < allnav.length; i++) {\n            allnav[i].classList.remove('active');\n            allnav[i].closest('.nav-item').classList.remove('active')\n        }\n\n        for (let x = 0; x <= checkurl.length; x++) {\n            if (pathname === checkurl[x]) {\n                allnav[x].classList.add('active');\n                allnav[x].closest('.nav-item').classList.add('active')\n            }\n        }\n        if (localStorage.getItem('token')) {\n            this.props.setloggedin({\n                username: localStorage.getItem('username'),\n                token: localStorage.getItem('token'),\n                _id: localStorage.getItem('_id'),\n                profilepicture: localStorage.getItem('profile_picture')\n            });\n            const socket = socketio(backend_url, {\n                query: {\n                    token: localStorage.getItem('token'),\n                }\n            });\n            Axios.post(`${api_url}notification`, {\n                token: localStorage.getItem('token')\n            }).then(res => {\n                this.setState({\n                    notifications: res.data.data,\n                    unReadNotification: res.data.unRead,\n                })\n            });\n            Axios.post(`${api_url}getChat`, {\n                token: localStorage.getItem('token')\n            }).then(res => {\n                let tempData = [];\n                res.data.data.forEach(o => {\n                    o.participans.forEach(data => {\n                        if (data._id !== localStorage.getItem('_id')) {\n                            tempData.push(data)\n                        }\n                    })\n                });\n                this.setState({\n                    listChat: tempData\n                })\n            });\n            socket.on('newNotifications', notifications => {\n                if (notifications.to.username == (this.props.username || localStorage.getItem('username'))) {\n                    const tempNotifications = this.state.notifications;\n                    tempNotifications.unshift(notifications);\n                    this.setState({\n                        notifications: tempNotifications,\n                        unReadNotification: this.state.unReadNotification + 1\n                    })\n                }\n            });\n            socket.on('newChat', chat => {\n                if (chat.to._id == this.props.userid && base_url + \"chat/\" + chat.from.username != window.location.href) {\n                    toast.info(`${chat.from.username} sends you a message`)\n                }\n            });\n            socket.on('block', data => {\n                // alert(data.to == localStorage.getItem('_id'))\n                setTimeout(() => {\n                    if (data.to == (this.props.userid || localStorage.getItem('_id'))) {\n                        toast.error(\"Your account has been blocked\");\n                        this.props.logout();\n                        this.props.history.push('/')\n                    }\n                })\n            });\n            socket.on('suspend', data => {\n                setTimeout(() => {\n                    if (data.to == localStorage.getItem('_id')) {\n                        toast.error(\"Your account has been suspended\");\n                        this.props.logout()\n                    }\n                })\n            })\n\n        } else {\n            this.props.logout()\n        }\n    }\n\n    searchUser = e => {\n        if (e.target.value.length) {\n            Axios.post(`${api_url}searchUser`, {\n                param: e.target.value\n            }).then(res => {\n                this.setState({\n                    search: res.data.data !== null ? res.data.data.filter(o => o._source.username !== this.props.username) : [],\n                })\n            })\n        } else {\n            this.setState({\n                search: []\n            })\n        }\n    };\n\n    render() {\n        return (\n            <div>\n                <ToastContainer enableMultiContainer position={toast.POSITION.TOP_RIGHT}/>\n                <MDBNavbar color=\"indigo\" dark expand=\"md\" className={'mb-2 w-100'}>\n                    <MDBNavbarBrand>\n                        <strong className=\"white-text\">SosMed</strong>\n                    </MDBNavbarBrand>\n                    <MDBNavbarToggler onClick={this.toggleCollapse}/>\n                    <MDBCollapse id=\"navbarCollapse3\" isOpen={this.state.isOpen} navbar>\n                        <MDBNavbarNav left>\n                            <MDBNavItem active={true}>\n                                <MDBNavLink to=\"/\" onClick={this.handleActiveNav}>Home</MDBNavLink>\n                            </MDBNavItem>\n                            <MDBNavItem>\n                                <MDBNavLink to=\"/explore\"\n                                            onClick={this.handleActiveNav}>Explore</MDBNavLink>\n                            </MDBNavItem>\n                        </MDBNavbarNav>\n                        <MDBNavbarNav right>\n                            <MDBNavItem>\n                                <MDBFormInline waves>\n                                    <div className=\"md-form my-0\">\n                                        <input className=\"form-control mr-sm-2 w-100 mt-3 w-100\" type=\"text\"\n                                               placeholder=\"Find User\"\n                                               aria-label=\"Search\"\n                                               onChange={\n                                                   e => {\n                                                       if (this.state.timeout) {\n                                                           clearTimeout(this.state.timeout);\n                                                           this.setState({\n                                                               timeout: null\n                                                           })\n                                                       }\n                                                       const search = e.target.value;\n                                                       this.setState({\n                                                           timeout: setTimeout(() => {\n                                                               this.props.history.push(\"/search?user=\" + search)\n                                                           }, 500)\n                                                       })\n                                                   }\n                                               }\n                                        />\n                                    </div>\n                                </MDBFormInline>\n                            </MDBNavItem>\n                            {this.props.loggedin\n                                ?\n                                <>\n                                    <MDBNavItem>\n                                        <MDBDropdown>\n                                            <MDBDropdownToggle nav caret>\n                                                <img src={profile_url + this.props.profilepicture} width={30}\n                                                     className={\"round\"} alt=\"\"/>\n                                                <span className={\"ml-2\"}>{this.props.username}</span>\n                                            </MDBDropdownToggle>\n                                            <MDBDropdownMenu className=\"dropdown-default\">\n                                                <MDBDropdownItem><Link onClick={() => this.setState({\n                                                    isOpen: false\n                                                })} to={{\n                                                    pathname: `/profile/${this.props.username}`\n                                                }}>My\n                                                    Profile</Link></MDBDropdownItem>\n                                                <MDBDropdownItem><Link onClick={() => this.setState({\n                                                    isOpen: false\n                                                })} to={\"/addpost\"}>Add Post</Link></MDBDropdownItem>\n                                                <MDBDropdownItem onClick={this.onLogout}><a>logout</a></MDBDropdownItem>\n                                            </MDBDropdownMenu>\n                                        </MDBDropdown>\n                                    </MDBNavItem>\n                                    <MDBNavItem>\n                                        <MDBDropdown>\n                                            <MDBDropdownToggle nav caret>\n                                                <div style={{display: \"flex\", position: \"absolute\"}}\n                                                     onClick={() => {\n                                                         this.setState({unReadNotification: 0});\n                                                         Axios.post(`${api_url}readNotif`, {\n                                                             token: this.props.token\n                                                         }).catch(err => {\n                                                             if (err.statusCode == 419) {\n                                                                 toast.error(\"Session Expired\");\n                                                                 this.props.logout()\n                                                             }\n                                                         })\n                                                     }}>\n                                                    <MDBIcon icon={\"bell\"}/>\n                                                    {\n                                                        this.state.unReadNotification ?\n                                                            <div\n                                                                className={\"notification-unread\"}>{this.state.unReadNotification}</div>\n                                                            :\n                                                            null\n                                                    }\n                                                </div>\n                                            </MDBDropdownToggle>\n                                            <MDBDropdownMenu className=\"dropdown-default notification-list\">\n                                                {\n                                                    this.state.notifications.map(o => {\n                                                        return (\n                                                            <div className={\"notif-item pointer\"}\n                                                                 style={!o.read ? {backgroundColor: \"lightgrey\"} : {}}>\n                                                                <div style={{float: \"left\"}}>\n                                                                    {\n                                                                        o.report\n                                                                            ?\n                                                                            <a style={{padding: 0}}>\n                                                                                <p className={\"pointer\"}\n                                                                                   style={{fontWeight: 600}}>Warning</p>\n                                                                                <p className={\"pointer\"}\n                                                                                   style={{fontWeight: 600}}>{o.message}\n                                                                                    <span\n                                                                                        style={{fontWeight: \"lighter\"}}>{moment(o.time).fromNow()}</span>\n                                                                                </p>\n                                                                            </a>\n                                                                            :\n                                                                            <a href={o.post ? base_url + \"post/\" + o.post._id : base_url + \"profile/\" + o.user.username}\n                                                                               target=\"_blank\" style={{padding: 0}}>\n                                                                                <p className={\"pointer\"}\n                                                                                   style={{fontWeight: 600}}>{o.user.username}</p>\n                                                                                <p className={\"pointer\"}\n                                                                                   style={{fontWeight: 600}}>{o.message}\n                                                                                    <span\n                                                                                        style={{fontWeight: \"lighter\"}}>{moment(o.time).fromNow()}</span>\n                                                                                </p>\n                                                                            </a>\n                                                                    }\n                                                                </div>\n                                                                <div style={{\n                                                                    float: \"right\",\n                                                                    position: \"absolute\",\n                                                                    left: \"calc(100% - 60px)\"\n                                                                }}>\n                                                                    {\n                                                                        o.post ?\n                                                                            typeof o.post === \"string\" ?\n                                                                                <span>Post <br/> deleted</span>\n                                                                                :\n                                                                                <img\n                                                                                    src={post_url + o.post.image[0]}\n                                                                                    width={60}\n                                                                                    alt=\"\"/>\n                                                                            :\n                                                                            <img\n                                                                                src={profile_url + o.user.profilepicture}\n                                                                                style={{borderRadius: '50%'}}\n                                                                                width={60} alt=\"\"/>\n                                                                    }\n                                                                </div>\n                                                            </div>\n                                                        )\n                                                    })\n                                                }\n                                            </MDBDropdownMenu>\n                                        </MDBDropdown>\n                                    </MDBNavItem>\n                                </>\n                                :\n                                <>\n                                    <MDBNavItem>\n                                        <MDBNavLink to={'/login'}><MDBBtn onClick={() => this.setState({\n                                            isOpen: false\n                                        })} gradient={\"purple\"}>Login</MDBBtn></MDBNavLink>\n                                    </MDBNavItem>\n                                    <MDBNavItem>\n                                        <MDBNavLink to={'/register'}><MDBBtn onClick={() => this.setState({\n                                            isOpen: false\n                                        })} gradient={\"aqua\"}>Register</MDBBtn></MDBNavLink>\n                                    </MDBNavItem>\n                                </>\n                            }\n                        </MDBNavbarNav>\n                    </MDBCollapse>\n                </MDBNavbar>\n                <div>\n                    {\n                        this.props.loggedin ? <><span className={\"toggle-chat\"}\n                                                      style={this.state.chatMinimized ? {left: \"calc(100% - 20px)\"} : {}}\n                                                      onClick={() => this.setState({chatMinimized: !this.state.chatMinimized}, () => {\n                                                          localStorage.setItem('chatMinimized', this.state.chatMinimized)\n                                                      })}><MDBIcon\n                            icon={this.state.chatMinimized ? \"bars\" : \"times\"}/></span>\n                            <div className={\"chat-container\"}\n                                 style={this.state.chatMinimized ? {width: 0, left: \"100%\"} : {}}>\n                                <div>\n                                    <MDBInput type={\"text\"} ref={\"finduser\"} onChange={this.searchUser}\n                                              labelClass={\"colorwhite\"} label={\"Find User ...\"} style={{width: 140}}/>\n                                </div>\n                                <div style={{backgroundColor: \"white\", color: \"black\"}}>\n                                    {\n                                        this.state.search ?\n                                            this.state.search.map(o => {\n                                                return (\n                                                    <div\n                                                        onClick={() => this.props.history.push(`/chat/${o._source.username}`)}>\n                                                        <img\n                                                            src={profile_url + o._source.profilepicture}\n                                                            className={\"mr-2\"} width={30}\n                                                            alt={o._source.username + \"'s photo\"}/>\n                                                        <span>{o._source.username}</span>\n                                                        <span></span>\n                                                    </div>\n                                                )\n                                            })\n                                            :\n                                            null\n                                    }\n                                </div>\n                                {\n                                    this.state.listChat.map(data => {\n                                        return (\n                                            <div onClick={() => this.props.history.push('/chat/' + data.username)}>\n                                                <img width={60} src={profile_url + data.profilepicture} alt=\"\"/>\n                                                <span>{data.username}</span>\n                                                <span></span>\n                                            </div>\n                                        )\n                                    })\n                                }\n                            </div>\n                        </> : null\n                    }\n                </div>\n                <Switch>\n                    <Route path={'/'} exact component={DashboardPage}/>\n                    <Route path={'/explore'} exact component={Explore}/>\n\n                    <Route path={'/login'} exact component={Login}/>\n                    <Route path={'/register'} exact component={Register}/>\n                    <Route path={'/profile/:profile'} component={withAuth(Profile)}/>\n                    <Route path={'/addpost'} exact component={withAuth(AddPost)}/>\n                    <Route path={'/chat/:username'} exact component={Chat}/>\n                    <Route path={'/post/:postid'} component={ShowPost}/>\n                    <Route path={'/updateProfile'} exact component={withAuth(UpdateProfile)}/>\n                    <Route path={'/search'} component={Search}/>\n                    <Route component={Error404}/>\n                </Switch>\n                <MDBModal isOpen={this.state.bottommodal} backdrop={false} toggle={() => this.setState({\n                    bottommodal: !this.state.bottommodal\n                })} frame position=\"bottom\">\n                    <MDBModalBody>\n                        Somedata is missing from your browser, Please Login Again\n                        <MDBBtn color=\"secondary\" onClick={() => this.setState({\n                            bottommodal: false\n                        })}>Close</MDBBtn>\n                    </MDBModalBody>\n                </MDBModal>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.user.token,\n        username: state.user.username,\n        loggedin: state.user.loggedin,\n        profilepicture: state.user.profilepicture,\n        userid: state.user._id\n    }\n};\nexport default withRouter(\n    connect(mapStateToProps, {login, logout, setloggedin})(App)\n)\n"]},"metadata":{},"sourceType":"module"}