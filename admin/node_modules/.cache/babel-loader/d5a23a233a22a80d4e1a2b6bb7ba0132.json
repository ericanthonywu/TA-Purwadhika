{"ast":null,"code":"var _jsxFileName = \"/Users/ericanthonywu/Projects/TA-Purwadhika/admin/src/views/LoginPage.jsx\";\nimport React from \"react\";\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBIcon, MDBCardHeader, MDBBtn, MDBInput } from \"mdbreact\"; // import \"./login.scss\"\n\nimport Axios from \"axios\";\nimport { api_url } from \"../global\";\nimport { toast } from \"react-toastify\";\nimport { login } from \"../redux/actions\";\nimport { connect } from \"react-redux\";\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.login = e => {\n      e.preventDefault();\n      Axios.post(\"\".concat(api_url, \"login\"), this.state).then(async res => {\n        const _res$data = res.data,\n              id = _res$data.id,\n              role = _res$data.role,\n              username = _res$data.username,\n              token = _res$data.token;\n        localStorage.setItem('id', id);\n        localStorage.setItem('role', role);\n        localStorage.setItem('username', username);\n        localStorage.setItem('token', token);\n        await this.props.login(res.data);\n        this.props.history.push('/dashboard');\n      }).catch(err => {\n        toast.error(\"Wrong username / password\");\n      });\n    };\n\n    this.handleInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {};\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('token')) {\n      this.props.history.push('/dashboard');\n    }\n  }\n\n  render() {\n    return React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"6\",\n      className: \"login-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      className: \"form-header deep-blue-gradient rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"my-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      icon: \"lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), \" Login:\")), React.createElement(\"form\", {\n      onSubmit: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Type your Username\",\n      icon: \"user\",\n      group: true,\n      type: \"text\",\n      validate: true,\n      error: \"wrong\",\n      success: \"right\",\n      name: \"username\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(MDBInput, {\n      label: \"Type your password\",\n      icon: \"lock\",\n      group: true,\n      type: \"password\",\n      validate: true,\n      name: \"password\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"text-center mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"light-blue\",\n      className: \"mb-3\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Login\"))))))));\n  }\n\n}\n\nexport default connect(null, {\n  login\n})(LoginPage);","map":{"version":3,"sources":["/Users/ericanthonywu/Projects/TA-Purwadhika/admin/src/views/LoginPage.jsx"],"names":["React","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBIcon","MDBCardHeader","MDBBtn","MDBInput","Axios","api_url","toast","login","connect","LoginPage","Component","constructor","props","e","preventDefault","post","state","then","res","data","id","role","username","token","localStorage","setItem","history","push","catch","err","error","handleInput","setState","target","name","value","componentDidMount","getItem","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    MDBContainer,\n    MDBRow,\n    MDBCol,\n    MDBCard,\n    MDBCardBody,\n    MDBIcon,\n    MDBCardHeader,\n    MDBBtn,\n    MDBInput\n} from \"mdbreact\";\n// import \"./login.scss\"\nimport Axios from \"axios\";\nimport {api_url} from \"../global\";\nimport {toast} from \"react-toastify\";\nimport {login} from \"../redux/actions\";\nimport {connect} from \"react-redux\";\n\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    componentDidMount() {\n        if (localStorage.getItem('token')) {\n            this.props.history.push('/dashboard')\n        }\n    }\n\n    login = e => {\n        e.preventDefault();\n        Axios.post(`${api_url}login`, this.state).then(async res => {\n            const {id, role, username, token} = res.data;\n            localStorage.setItem('id', id);\n            localStorage.setItem('role', role);\n            localStorage.setItem('username', username);\n            localStorage.setItem('token', token);\n            await this.props.login(res.data);\n            this.props.history.push('/dashboard')\n        }).catch(err => {\n            toast.error(\"Wrong username / password\")\n        })\n    };\n    handleInput = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n\n    render() {\n        return (\n            <MDBContainer>\n                <MDBRow>\n                    <MDBCol md=\"6\" className={\"login-center\"}>\n                        <MDBCard>\n                            <MDBCardBody>\n                                <MDBCardHeader className=\"form-header deep-blue-gradient rounded\">\n                                    <h3 className=\"my-3\">\n                                        <MDBIcon icon=\"lock\"/> Login:\n                                    </h3>\n                                </MDBCardHeader>\n                                <form onSubmit={this.login}>\n                                    <div className=\"grey-text\">\n                                        <MDBInput\n                                            label=\"Type your Username\"\n                                            icon=\"user\"\n                                            group\n                                            type=\"text\"\n                                            validate\n                                            error=\"wrong\"\n                                            success=\"right\"\n                                            name={\"username\"}\n                                            onChange={this.handleInput}\n                                        />\n                                        <MDBInput\n                                            label=\"Type your password\"\n                                            icon=\"lock\"\n                                            group\n                                            type=\"password\"\n                                            validate\n                                            name={\"password\"}\n                                            onChange={this.handleInput}\n                                        />\n                                    </div>\n\n                                    <div className=\"text-center mt-4\">\n                                        <MDBBtn\n                                            color=\"light-blue\"\n                                            className=\"mb-3\"\n                                            type=\"submit\"\n                                        >\n                                            Login\n                                        </MDBBtn>\n                                    </div>\n                                </form>\n                            </MDBCardBody>\n                        </MDBCard>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        );\n    }\n}\n\nexport default connect(null, {login})(LoginPage);\n"]},"metadata":{},"sourceType":"module"}